<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main_layout}">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>채팅 목록</title>
    <link rel="stylesheet" href="/hollroom/roommate/css/styles-2.css"/>
    <link rel="stylesheet" href="/hollroom/chatting/css/styles_chat.css"/>
<!--    <link rel="stylesheet" href="/hollroom/chatting/css/styles_chat2.css"/>-->
  </head>
  <body layout:fragment="content"
        class="d-flex flex-column h-100 bg-light">
    <main class="flex-shrink-0">
<!--      <div class="floating-btn">-->
<!--        <button-->
<!--          id="floating-btn-top"-->
<!--          onclick="window.history.back();"-->
<!--          class="btn btn-primary rounded-circle"-->
<!--        >-->
<!--          <span>&#8592;</span>-->
<!--        </button>-->
<!--      </div>-->
      <div class="floating-btn">
        <button
            id="floating-btn-register"
            onclick="location.href='/hollroom/roommate/register'"
            class="btn btn-primary rounded-circle"
        >
          <span>&#128393;</span>
        </button>
        <button
            id="floating-btn-chat"
            onclick="location.href='/hollroom/chat/list'"
            class="btn btn-primary rounded-circle"
        >
          <span>&#9776;</span>
        </button>
      </div>

      <section class="justify-content-center py-5">
        <aside
          class="col-3 border-primary bg-dark rounded-5 px-3 py-5 me-3 text-center"
        >
          <h2 class="my-5 py-5 text-info font-eng">Chatting</h2>
          <!-- <span class="text-white">새 메세지</span> -->
          <!-- <span class="text-warning">3</span> -->
        </aside>

        <div class="border-primary bg-white col-7 pt-4 pb-0 px-4 rounded-4">
          <div class="px-5">
            <ul id="chat-list">
              <th:block th:each="chat:${chatlistitem}">
                <li th:onclick="|location.href='@{/chat/room(roomId=${chat.roomId},userId=${chat.userId})}'|">
                  <img
                      th:src="${chat.userImage}"
                      alt="user-profile-image"
                      class="border-dark rounded-circle l-img"
                  />
                  <div class="d-inline-block">
                    <span class="l-nick" th:text="${chat.userNickname}"></span><br />
                    <span class="l-msg" th:text="${chat.lastMessage}"></span><br />
                    <span class="l-time" th:text="${chat.lastDateTime}"></span>
                  </div>
<!--                  <span class="l-badge">2</span>-->
                </li>
              </th:block>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- Bootstrap core JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
